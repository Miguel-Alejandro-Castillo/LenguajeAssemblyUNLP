;Registros del PIC
EOI EQU 20H
IMR EQU 21H
INT1 EQU 25H

;Registros del TIMER
CONT EQU 10H
COMP EQU 11H

;Registros de la PIO
PA EQU 30H
PB EQU 31H
CA EQU 32H
CB EQU 33H

N_CLK EQU 10
ORG 40
DW RUTINA_CLK

ORG 1000H
SECUENCIA DB 1, 2, 4, 8, 16, 32, 64, 128, 64, 32, 16, 8, 4, 2, 0

ORG 3000H
RUTINA_CLK: CMP BYTE PTR [BX], 0
JNZ LUCES
MOV BX, OFFSET SECUENCIA
LUCES: MOV AL, [BX]
OUT PB, AL
INC BX

MOV AL, 0
OUT CONT, AL

MOV AL, 20H
OUT EOI, AL
IRET

ORG 2000H
CLI 
MOV AL, 0FDH; MASCARA INTERRUPCION TIMER
OUT IMR, AL 
MOV AL, N_CLK 
OUT INT1, AL
MOV AL, 1 
OUT COMP, AL 
MOV AL, 0 
OUT CB, AL 
OUT PB, AL 
OUT CONT, AL

MOV BX, OFFSET SECUENCIA
STI
LAZO: JMP LAZO
END